head	1.1;
access;
symbols;
locks; strict;
comment	@# @;


1.1
date	2019.01.15.20.21.28;	author leith;	state Exp;
branches;
next	;


desc
@@


1.1
log
@Initial revision
@
text
@<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
    <title>montagefromdoc.py</title>
</head>
<body>
<p align="right">
<i>(modified 2009 oct 31)</i></p>
<center><p align="center">
<i><font size="7">montagefromdoc.py</font></i><br>
<i><font size="4">Screen captures may not be up-to-date</font> </i></p>
</center>

<hr />

<p>
A more complete list of changes is shown in the 
<a href="http://www.wadsworth.org/spider_doc/spider/docs/techs/verify/batch/montagefromdoc.py">source code</a>.
</p>

<hr />

<p><b>Rationale:</b></p>
<p>
Often, I would like to display more images than fits on a screen.
JWEB is inconvenient, for several reasons.
<a href="montage.html">montage-spi</a>can
 open subsets of images, but it is not straightforward to
manually page through screenfuls of images.
The ability to page through screenfuls was the mean feature 
I wanted to implement.
</p>

<hr />

<p><b>Getting started:</b></p>

<p>Documentation for the accompaying batch files is 
<A HREF="

<p>The tarballs containing SPIDER batch files and scripts are 
<A HREF="http://www.wadsworth.org/spider_doc/spider/docs/techs/verify/tar_archive/archive.htm">here</A>.</p>

<p>
You'll need to install <a href="../spire-docs/spire.html">SPIRE</a>,
the SPIDER Reconstruction Engine, <a href="../install.html">SPIRE</a>,

installed in order to run this program.  
</p>


<hr />

<p><b>Procedure:</b></p>

<p>Assuming the Python script is in your <i>$PATH</i>, run it by typing:</p>

<PRE>montagefrom &amp;</PRE>

<p>
If you're running it for the first time, 
a pop-up window will appearwith some pre-set defaults.
When you change or update the filenames, they get saved.
In the following example, I've picked up from a previous session,
and the programs recalls those filenames:
</p>

<P align="center"><img src="mfd-unstacked.gif" name="graphics1" align="bottom" width="366" height="252" border="0"></p>

<p>If your data extension is not <b>.dat</b>, be sure to change it here.</p>

<p align="left">
In the example above, I had been using unstacked images. 
montagefromdoc.py also works with stacked images:
</p>

<P align="center"><img src="mfd-stacked.gif" name="graphics6" align="bottom" width="366" height="252" border="0"></p>

<p>
It may be preferable to enter the input file templates on the command line. 
(Navigating through the file-browser button can be cumbersome.) 
The first optional cammand-line argument is the doc file:
</p>

<pre style="margin-bottom: 0.2in">montagefromdoc.py select/prj001/goodsel.dat &amp;</PRE>

<p>
The second optional cammand-line argument is the image stack/template:
</p>

<pre style="margin-bottom: 0.2in">montagefromdoc.py select/prj001/goodsel.dat select/prj001/stkfilt.dat &amp;</PRE>

<p>When you click on <i>Continue</i>, a montage of images will pop up:</p>

<p align="center"><img src="mfd-montage.gif" name="graphics2" align="bottom" width="816" border="0"></p>

<p>With the menus overlain:</p>

<p align="center"><img src="mfd-menus.gif" name="graphics3" align="bottom" width="816" height="436" border="0"></p>

<p>The selection part should be intuitive. Sometimes, clicking on the bad
particles and inverting the selection is easier. Shift-clicking will
select the contiguous stretch of particles from the last one you
selected.
</p>

<p>There are some keyboard shortcuts here (also available in <b>Help-&gt; Keyboard shortcuts</b>: </p>
<ul>
    <li>Page Down == next screenful of images </li>
    <li>Page Up == previous screenful of images</li>
    <li>CTRL-a == Select all                   </li>
    <li>CTRL-v == Invert selection (or CTRL-i) </li>
    <li>DEL    == Clear all                    </li>
    <li>CTRL-f == toggle labels                </li>
    <li>CTRL-s == Save selections              </li>
    <li>CTRL-r == Read selections              </li>
    <li>CTRL-w == Close window                 </li>
    <li>CTRP-o == Open file                    </li>
</ul>

<p>From the <i>Open Selections</i> (CTRL-o) menu:</p>
<ul>
    <li>CTRL-n == increase filenumber</li>
    <li>CTRL-p == decrease filenumber</li>
</ul>

<p><b>To do:</b></p>

<p><b>Recent modifications:</b></p>

<ul>
    <li>2009-10-31 -- can read pre-existing selection doc using CTRL-r</li>
    <li>2009-05-11 -- looks for filenumber in directory if not in filename</li>
    <li>2009-04-23 -- linked CTRL-v to invert (CTRL-i still works)</li>
    <li>2008-09-29 -- sorts keys in output doc file</li>
    <li>2008-09-29 -- image size recalculated for each new page</li>
    <li>2008-09-29 -- file-number from command-line doc-file input carried to other files</li>
    <li>2007-12-20 -- attached GNU GPL</li>
    <li>2007-12-17 -- added 1/4th size display option</li>
    <li>2007-12-14 -- restored brightness slider</li>
    <li>2007-11-27 -- shows pop-up window if doc file not found</li>
    <li>2007-11-27 -- shortcuts CTRL-N and CTRL-P increment and decrement filenumber in Open Selections</li>
    <li>2007-11-10 -- can use arbitrary doc-file column for particle-number</li>
    <li>2007-10-11 -- can label with arbitrary column</li>
    <li>2007-10-05 -- can use stacks</li>
    <li>2007-06-29 -- added "smooth" button</li>
</ul>


<hr />

</body>
</html>
@
